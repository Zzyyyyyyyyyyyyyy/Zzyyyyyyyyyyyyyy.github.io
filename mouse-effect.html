<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mouse Following Effect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        /* 重置和基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #121212;
            color: #f5f5f5;
            min-height: 100vh;
            overflow: hidden;
        }
        
        /* 自定义光标样式 */
        .cursor-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .cursor-dot {
            position: absolute;
            width: 60px;
            height: 60px;
            background-color: rgba(255, 62, 127, 0.25);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            filter: blur(10px);
            will-change: transform;
        }
        
        .cursor-trail {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(255, 62, 127, 0.85) 0%, rgba(255, 181, 107, 0) 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0.8;
            z-index: 1;
            pointer-events: none;
            will-change: transform;
        }
        
        /* 交互元素样式 */
        .interactive-elements {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            gap: 2rem;
        }
        
        .interactive-item {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 20px 40px;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
        }
        
        .interactive-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
        }
        
        /* 额外效果：点击时的波纹 */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.4);
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- 自定义光标容器 -->
    <div class="cursor-container">
        <div class="cursor-dot" id="cursor-dot"></div>
    </div>
    
    <!-- 交互元素 -->
    <div class="interactive-elements">
        <div class="interactive-item">Hover Me</div>
        <div class="interactive-item">Click Me</div>
        <div class="interactive-item">Move Around</div>
    </div>
    
    <script>
        // 鼠标跟随效果
        document.addEventListener('DOMContentLoaded', function() {
            // 自定义光标元素
            const cursorDot = document.getElementById('cursor-dot');
            const cursorContainer = document.querySelector('.cursor-container');
            
            // 检查是否在触摸设备上
            if (!('ontouchstart' in window)) {
                let mouseX = 0;
                let mouseY = 0;
                let cursorX = 0;
                let cursorY = 0;
                
                // 跟踪鼠标位置
                document.addEventListener('mousemove', function(e) {
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                });
                
                // GSAP光标呼吸效果
                gsap.to(cursorDot, {
                    scale: 1.2,
                    duration: 2,
                    repeat: -1,
                    yoyo: true,
                    ease: "power1.inOut"
                });
                
                // 平滑跟随效果
                gsap.ticker.add(function() {
                    const deltaX = mouseX - cursorX;
                    const deltaY = mouseY - cursorY;
                    
                    cursorX += deltaX * 0.15;
                    cursorY += deltaY * 0.15;
                    
                    gsap.set(cursorDot, {
                        left: cursorX,
                        top: cursorY
                    });
                });
                
                // 创建鼠标轨迹效果
                let lastTrailTime = 0;
                let lastMouseX = 0;
                let lastMouseY = 0;
                let trailHistory = [];
                const MAX_HISTORY = 10;
                
                document.addEventListener('mousemove', function(e) {
                    const currentTime = Date.now();
                    const timeDiff = currentTime - lastTrailTime;
                    const mouseX = e.clientX;
                    const mouseY = e.clientY;
                    const distanceMoved = Math.sqrt(Math.pow(mouseX - lastMouseX, 2) + Math.pow(mouseY - lastMouseY, 2));
                    
                    // 记录鼠标位置历史
                    trailHistory.unshift({x: mouseX, y: mouseY, time: currentTime});
                    if (trailHistory.length > MAX_HISTORY) {
                        trailHistory.pop();
                    }
                    
                    // 基于时间和距离创建轨迹点，确保快速移动时创建更多点
                    if ((timeDiff > 5 || distanceMoved > 3) && distanceMoved > 1) {
                        // 根据移动速度创建多个轨迹点
                        const numPoints = Math.min(5, Math.max(1, Math.floor(distanceMoved / 10)));
                        
                        for (let i = 0; i < numPoints; i++) {
                            // 在鼠标当前位置和前一个位置之间创建点
                            const ratio = i / numPoints;
                            const pointX = mouseX - (distanceMoved * ratio * (mouseX - lastMouseX) / distanceMoved);
                            const pointY = mouseY - (distanceMoved * ratio * (mouseY - lastMouseY) / distanceMoved);
                            
                            const trail = document.createElement('div');
                            trail.className = 'cursor-trail';
                            cursorContainer.appendChild(trail);
                            
                            // 设置轨迹起始位置
                            gsap.set(trail, {
                                left: pointX,
                                top: pointY,
                                opacity: 0.8 - (ratio * 0.3) // 逐渐降低透明度
                            });
                            
                            // 动画效果：放大然后消失
                            gsap.to(trail, {
                                duration: 1.2 + Math.random() * 0.8,
                                scale: 2 - (ratio * 0.5), // 根据位置调整缩放
                                opacity: 0,
                                ease: "power2.out",
                                onComplete: function() {
                                    trail.remove();
                                }
                            });
                        }
                        
                        // 更新上次创建轨迹的时间和位置
                        lastTrailTime = currentTime;
                        lastMouseX = mouseX;
                        lastMouseY = mouseY;
                    }
                });
                
                // 添加交互元素的特效
                const interactiveItems = document.querySelectorAll('.interactive-item');
                
                interactiveItems.forEach(item => {
                    // 鼠标进入交互元素
                    item.addEventListener('mouseenter', function() {
                        // 光标放大效果
                        gsap.to(cursorDot, {
                            scale: 1.5,
                            duration: 0.3
                        });
                        
                        // 元素发光效果
                        const glow = document.createElement('div');
                        glow.className = 'element-glow';
                        glow.style.position = 'absolute';
                        glow.style.top = '50%';
                        glow.style.left = '50%';
                        glow.style.width = 'calc(100% + 20px)';
                        glow.style.height = 'calc(100% + 20px)';
                        glow.style.transform = 'translate(-50%, -50%)';
                        glow.style.borderRadius = '10px';
                        glow.style.boxShadow = '0 0 15px 5px rgba(255, 62, 127, 0.3)';
                        glow.style.zIndex = '-1';
                        glow.style.pointerEvents = 'none';
                        
                        if (!this.querySelector('.element-glow')) {
                            this.style.position = 'relative';
                            this.style.overflow = 'visible';
                            this.appendChild(glow);
                            
                            // 发光动画
                            gsap.to(glow, {
                                boxShadow: '0 0 20px 8px rgba(255, 62, 127, 0.5)',
                                duration: 0.8,
                                repeat: -1,
                                yoyo: true,
                                ease: "sine.inOut"
                            });
                        }
                    });
                    
                    // 鼠标离开交互元素
                    item.addEventListener('mouseleave', function() {
                        // 恢复光标原始大小
                        gsap.to(cursorDot, {
                            scale: 1,
                            duration: 0.3
                        });
                        
                        // 移除发光效果
                        const glow = this.querySelector('.element-glow');
                        if (glow) {
                            gsap.to(glow, {
                                opacity: 0,
                                duration: 0.3,
                                onComplete: function() {
                                    glow.remove();
                                }
                            });
                        }
                    });
                    
                    // 点击效果
                    item.addEventListener('click', function(e) {
                        // 创建波纹效果
                        const ripple = document.createElement('div');
                        ripple.className = 'ripple';
                        this.appendChild(ripple);
                        
                        const rect = this.getBoundingClientRect();
                        const size = Math.max(rect.width, rect.height);
                        
                        ripple.style.width = ripple.style.height = `${size}px`;
                        ripple.style.left = `${e.clientX - rect.left - size/2}px`;
                        ripple.style.top = `${e.clientY - rect.top - size/2}px`;
                        
                        // 自动移除波纹
                        setTimeout(() => {
                            ripple.remove();
                        }, 600);
                    });
                });
            } else {
                // 在触摸设备上隐藏自定义光标
                cursorContainer.style.display = 'none';
                document.body.style.cursor = 'auto';
            }
        });
    </script>
</body>
</html> 