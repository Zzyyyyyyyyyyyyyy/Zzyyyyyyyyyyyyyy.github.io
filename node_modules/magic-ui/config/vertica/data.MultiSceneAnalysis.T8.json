{
  "module": "MultiSceneAnalysis.T8",
  "flag": "vertical",
  "configs": [
    {
      "key": "dataMultiSceneAnalysisT8",
      "desc": "LTE室内外场景分析-MR数据统计",
      "config": {
        "parameters": [
          {
            "name": "p_en",
            "columnname": "",
            "type": "string",
            "format": "",
            "conditionid": "c0",
            "symbol": ""
          },
          {
            "name": "starttime",
            "columnname": "",
            "type": "string",
            "format": "",
            "conditionid": "c1",
            "symbol": ""
          },
          {
            "name": "endtime",
            "columnname": "",
            "type": "string",
            "format": "",
            "conditionid": "c2",
            "symbol": ""
          }, {
            "name": "province",
            "columnname": "",
            "type":"string",
            "format": "",
            "conditionid": "c3",
            "symbol":""
          }
        ],
      "value":"SELECT      data1,      data2,      data3,      data4,      data5,      data6,      data7,      data8,      data9,      data10,      data11,      data12,      data13,      data14,      data15,      data16,      data17,      data18,      data19,      data20,      data21  FROM      (          SELECT              city                                                   AS data1,              '全网'                                                   AS data2,              MIN(RSRP_MIN_50)+(-140)||'--'||MAX(RSRP_MAX_50)+(-140)     AS data3,              ROUND(AVG(mr.RSRP_SUM / mr.MR_COUNT -140))                 AS data4,              MIN(RSRP_MIN_5000)+(-140)||'--'||MAX(RSRP_MAX_5000)+(-140) AS data5,              SUM(MR_COUNT_5000)                                         AS data6,              0                                                          AS data7,              0                                                          AS data8,              SUM(MR_COUNT)                                              AS data9,              SUM(RSRP_COUNT_less110)                                    AS data10,              SUM(RSRP_COUNT_less100)                                    AS data11,              ROUND(SUM(RSRP_COUNT_less110)/SUM(MR_COUNT) ,2.0)          AS data12,              ROUND(SUM(RSRP_COUNT_less100)/SUM(MR_COUNT),2.0)           AS data13,              SUM(SinrUL_less0)                                          AS data14,              ROUND(SUM(SinrUL_less0)/SUM(MR_COUNT),2.0)                 AS data15,              ''                                                         AS data16,              ''                                                         AS data17,              SUM(SinrDL_less3)                                          AS data18,              ROUND(SUM(SinrDL_less3)/SUM(MR_COUNT),2.0)                 AS data19,              SUM(MR_Count_KK)                                           AS data20,              ROUND( SUM(MR_Count_KK)/SUM(MR_COUNT),2.0)                 AS data21          FROM              lte_sys.[@c0]_T_MR_STATISTICS mr          WHERE              mr.hour>='[@c1]'          AND mr.hour<='[@c2]'          GROUP BY              mr.city          UNION ALL          SELECT              city AS data1,              CASE                  WHEN scene1=1                  THEN '室外用户'                  WHEN scene1=2                  THEN '占用室分的室内稳定用户(有室分)'                  WHEN scene1=3                  THEN '占用宏站的室内稳定用户(无室分)'                  WHEN scene1=4                  THEN '室内稳定用户(占用宏站和室分)'                  ELSE '未知场景'              END                                                    AS data2,              MIN(RSRP_MIN_50)+(-140)||'--'||MAX(RSRP_MAX_50)+(-140)     AS data3,              ROUND(AVG(mr.RSRP_SUM / mr.MR_COUNT -140))                 AS data4,              MIN(RSRP_MIN_5000)+(-140)||'--'||MAX(RSRP_MAX_5000)+(-140) AS data5,              SUM(MR_COUNT_5000)                                         AS data6,              0                                                          AS data7,              0                                                          AS data8,              SUM(MR_COUNT)                                              AS data9,              SUM(RSRP_COUNT_less110)                                    AS data10,              SUM(RSRP_COUNT_less100)                                    AS data11,              ROUND(SUM(RSRP_COUNT_less110)/SUM(MR_COUNT),2.0)           AS data12,              ROUND( SUM(RSRP_COUNT_less100)/SUM(MR_COUNT) ,2.0)         AS data13,              SUM(SinrUL_less0)                                          AS data14,              ROUND(SUM(SinrUL_less0)/SUM(MR_COUNT),2.0)                 AS data15,              ''                                                         AS data16,              ''                                                         AS data17,              SUM(SinrDL_less3)                                          AS data18,              ROUND(SUM(SinrDL_less3)/SUM(MR_COUNT),2.0)                 AS data19,              SUM(MR_Count_KK)                                           AS data20,              ROUND(SUM(MR_Count_KK)/SUM(MR_COUNT) ,2.0)                 AS data21          FROM              lte_sys.[@c0]_T_MR_STATISTICS mr          WHERE              mr.hour>='[@c1]'          AND mr.hour<='[@c2]'          GROUP BY              mr.city,              mr.scene1          UNION ALL          SELECT              city AS data1,              CASE                  WHEN scene2=1                  THEN '高铁用户'                  WHEN scene2=2                  THEN '地铁用户'                  WHEN scene2=3                  THEN '校园用户'                  WHEN scene2=4                  THEN '商业区用户'                  WHEN scene2=5                  THEN '风景区用户'                  WHEN scene2=6                  THEN '居民区用户'                  ELSE '未知场景'              END                                                    AS data2,              MIN(RSRP_MIN_50)+(-140)||'--'||MAX(RSRP_MAX_50)+(-140)     AS data3,              ROUND(AVG(mr.RSRP_SUM / mr.MR_COUNT -140))                 AS data4,              MIN(RSRP_MIN_5000)+(-140)||'--'||MAX(RSRP_MAX_5000)+(-140) AS data5,              SUM(MR_COUNT_5000)                                         AS data6,              0                                                          AS data7,              0                                                          AS data8,              SUM(MR_COUNT)                                              AS data9,              SUM(RSRP_COUNT_less110)                                    AS data10,              SUM(RSRP_COUNT_less100)                                    AS data11,              ROUND(SUM(RSRP_COUNT_less110)/SUM(MR_COUNT),2.0)           AS data12,              ROUND( SUM(RSRP_COUNT_less100)/SUM(MR_COUNT),2.0)          AS data13,              SUM(SinrUL_less0)                                          AS data14,              ROUND(SUM(SinrUL_less0)/SUM(MR_COUNT),2.0)                 AS data15,              ''                                                         AS data16,              ''                                                         AS data17,              SUM(SinrDL_less3)                                          AS data18,              ROUND(SUM(SinrDL_less3)/SUM(MR_COUNT) ,2.0)                AS data19,              SUM(MR_Count_KK)                                           AS data20,              ROUND(SUM(MR_Count_KK)/SUM(MR_COUNT) ,2.0)                 AS data21          FROM              lte_sys.[@c0]_T_MR_STATISTICS mr          WHERE              mr.hour>='[@c1]'          AND mr.hour<='[@c2]'          GROUP BY              mr.city,              mr.scene2          UNION ALL          SELECT              city                                                   AS data1,              '室内用户'                                                 AS data2,              MIN(RSRP_MIN_50)+(-140)||'--'||MAX(RSRP_MAX_50)+(-140)     AS data3,              ROUND(AVG(mr.RSRP_SUM / mr.MR_COUNT -140))                 AS data4,              MIN(RSRP_MIN_5000)+(-140)||'--'||MAX(RSRP_MAX_5000)+(-140) AS data5,              SUM(MR_COUNT_5000)                                         AS data6,              0                                                          AS data7,              0                                                          AS data8,              SUM(MR_COUNT)                                              AS data9,              SUM(RSRP_COUNT_less110)                                    AS data10,              SUM(RSRP_COUNT_less100)                                    AS data11,              ROUND(SUM(RSRP_COUNT_less110)/SUM(MR_COUNT) ,2.0)          AS data12,              ROUND(SUM(RSRP_COUNT_less100)/SUM(MR_COUNT),2.0)           AS data13,              SUM(SinrUL_less0)                                          AS data14,              ROUND(SUM(SinrUL_less0)/SUM(MR_COUNT),2.0)                 AS data15,              ''                                                         AS data16,              ''                                                         AS data17,              SUM(SinrDL_less3)                                          AS data18,              ROUND(SUM(SinrDL_less3)/SUM(MR_COUNT),2.0)                 AS data19,              SUM(MR_Count_KK)                                           AS data20,              ROUND( SUM(MR_Count_KK)/SUM(MR_COUNT),2.0)                 AS data21          FROM              lte_sys.[@c0]_T_MR_STATISTICS mr          WHERE              mr.hour>='[@c1]'          AND mr.hour<='[@c2]'          AND mr.scene1 IN (2,3,4)          GROUP BY              mr.city )T  WHERE      t.data1='[@c3]' and t.data2!='未知场景'"
      }
    }
  ]
}